---
title: 切片错误（草稿）
---


切片错误`slicing bugs`: 基类函数没有被virtual修饰，子类并不能重载基类函数，如果希望用多态的方式通过基类指针调用子类重载的函数，实际情况就是调用的是基类函数而已，这时与期望是不同的.

stl容器中的成员函数大多都不是virtual的（包括析构函数），几乎无法把stl容器作为基类来多态使用。

但是如果不把stl容器当作基类使用，似乎是可行的？

* 子类析构时需要手动调用stl的析构。
* 不能静态限制其他用户使用stl作为基类？由于没有virtual的类不是多态类，无法向下转型，stl中几乎都不是多态类。
